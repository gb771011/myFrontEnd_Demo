/*!
 * Â© 2016 Avira Operations GmbH & Co. KG. All rights reserved.
 * No part of this extension may be reproduced, stored or transmitted in any
 * form, for any reason or by any means, without the prior permission in writing
 * from the copyright owner. The text, layout, and designs presented are
 * protected by the copyright laws of the United States and international
 * treaties.
 */
!function e(t,n,r){function o(c,s){if(!n[c]){if(!t[c]){var u="function"==typeof require&&require;if(!s&&u)return u(c,!0);if(i)return i(c,!0);var a=new Error("Cannot find module '"+c+"'");throw a.code="MODULE_NOT_FOUND",a}var f=n[c]={exports:{}};t[c][0].call(f.exports,function(e){var n=t[c][1][e];return o(n?n:e)},f,f.exports,e,t,n,r)}return n[c].exports}for(var i="function"==typeof require&&require,c=0;c<r.length;c++)o(r[c]);return o}({1:[function(e,t,n){"use strict";t.exports=e("./src/ContentMessenger")},{"./src/ContentMessenger":2}],2:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("./Messenger"),u=e("./ContentTopic"),a=e("./chrome"),f=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,u)),n=e._onMessage.bind(e);a.runtime.onMessage.addListener(n),window.addEventListener("unload",function(){a.runtime.onMessage.removeListener(n)});var i=a.runtime.connect({name:"ContentMessenger"});return i.onDisconnect.addListener(e._onDisconnect.bind(e)),e}return i(t,e),c(t,[{key:"_onMessage",value:function(e,t,n){if(e.publish){var r=this._getTopic(e.publish);r&&r.publish(e.message,n)}return!0}},{key:"_onDisconnect",value:function(){var e=this._getTopic("Background:closed");e&&e.publish()}},{key:"publish",value:function(e,t,n){var r=10,o=50,i="Could not establish connection. Receiving end does not exist.",c=function c(){a.runtime.sendMessage({publish:e,message:t},function(e){var t=a.runtime.lastError;t&&t.message===i?(r-=1,r&&setTimeout(c,o)):"function"==typeof n&&n(e)})};c()}}]),t}(s);t.exports=f},{"./ContentTopic":3,"./Messenger":4,"./chrome":6}],3:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=e("./Topic"),s=e("./chrome"),u=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s.runtime.sendMessage({subscribe:e}),n}return i(t,e),t}(c);t.exports=u},{"./Topic":5,"./chrome":6}],4:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){r(this,e),this._topicClass=t,this._topics={}}return o(e,null,[{key:"getInstance",value:function(){return this._instance||(this._instance=new this),this._instance}}]),o(e,[{key:"_getTopic",value:function(e,t){var n=this._topics[e];return!n&&t&&(this._topics[e]=n=new this._topicClass(e)),n}},{key:"subscribe",value:function(e,t){this._getTopic(e,!0).subscribe(t)}},{key:"publish",value:function(e,t,n,r){var o=this._getTopic(e);o&&o.publish(t,n,r)}}]),e}();t.exports=i},{}],5:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){r(this,e),this._name=t,this._callbacks=[]}return o(e,[{key:"publish",value:function(e,t){this._callbacks.forEach(function(n){return n(e,t)})}},{key:"subscribe",value:function(e){this._callbacks.push(e)}}]),e}();t.exports=i},{}],6:[function(e,t,n){"use strict";t.exports=chrome},{}],7:[function(e,t,n){var r,o;r=e("messenger/Content"),o=r.getInstance(),t.exports=o},{"messenger/Content":1}],8:[function(e,t,n){var r,o;o=e("content/messagingInterface"),r={track:function(e,t,n){return o.publish("Mixpanel:track",{event:e,properties:t},n)}},t.exports=r},{"content/messagingInterface":7}],9:[function(e,t,n){var r,o,i,c,s;o=e("mustache"),c=e("content/messagingInterface"),s=e("content/mixpanel"),r=e("jquery"),i=function(e,t){var n;if(e)return r("<link>",{rel:"stylesheet",type:"text/css",href:e}).appendTo(document.head),n=document.createElement("img"),n.onerror=t,n.src=e},c.subscribe("AO:externalReady",function(e){return"string"==typeof e&&(e=JSON.parse(e)),r(document.body).on("click","[data-event]",function(e){var t,n;return t=r.extend(!0,{},r(e.currentTarget).data()),n=t.event,delete t.event,s.track(n,t)}),i(e.stylesheet,function(){var t,n,i;if(i=e.products[0])return t={product:i,meta:e.meta,requestData:e.requestData},n=o.render(e.templates.external,t),r("#external").html(n),e.javascript&&r.getScript(e.javascript),s.track("Offers - Indicator - Show",e.meta)})})},{"content/messagingInterface":7,"content/mixpanel":8,jquery:"jquery",mustache:"mustache"}]},{},[9]);